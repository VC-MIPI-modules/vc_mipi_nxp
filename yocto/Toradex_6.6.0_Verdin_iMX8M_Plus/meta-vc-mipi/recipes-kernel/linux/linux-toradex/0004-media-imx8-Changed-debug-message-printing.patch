From 4b191b0c9957b9fa93f4e27f90492c9ccd630a36 Mon Sep 17 00:00:00 2001
From: Peter Martienssen <peter.martienssen@liquify-consulting.de>
Date: Tue, 16 Jul 2024 21:19:53 +0200
Subject: [PATCH 4/6] media: imx8: Changed debug message printing

---
 drivers/staging/media/imx/imx8-isi-hw.c        | 2 +-
 drivers/staging/media/imx/imx8-mipi-csi2-sam.c | 8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/drivers/staging/media/imx/imx8-isi-hw.c b/drivers/staging/media/imx/imx8-isi-hw.c
index 193ff5c5f..3ac1df2af 100644
--- a/drivers/staging/media/imx/imx8-isi-hw.c
+++ b/drivers/staging/media/imx/imx8-isi-hw.c
@@ -70,7 +70,7 @@ void dump_isi_regs(struct mxc_isi_dev *mxc_isi)
 	dev_dbg(dev, "ISI CHNLC register dump, isi%d\n", mxc_isi->id);
 	for (i = 0; i < ARRAY_SIZE(registers); i++) {
 		u32 reg = readl(mxc_isi->regs + registers[i].offset);
-		dev_dbg(dev, "%20s[0x%.2x]: %.2x\n",
+		dev_dbg(dev, "%20s[0x%.2x]: 0x%08x\n",
 			registers[i].name, registers[i].offset, reg);
 	}
 }
diff --git a/drivers/staging/media/imx/imx8-mipi-csi2-sam.c b/drivers/staging/media/imx/imx8-mipi-csi2-sam.c
index d3a1ba38c..d5fb5eb83 100644
--- a/drivers/staging/media/imx/imx8-mipi-csi2-sam.c
+++ b/drivers/staging/media/imx/imx8-mipi-csi2-sam.c
@@ -449,7 +449,7 @@ struct csi_state {
 
 static int debug;
 module_param(debug, int, 0644);
-MODULE_PARM_DESC(debug, "Debug level (0-2)");
+MODULE_PARM_DESC(debug, "Debug level (0-3)");
 
 static const struct csis_pix_format mipi_csis_formats[] = {
 	{
@@ -1376,7 +1376,7 @@ static int csis_s_fmt(struct v4l2_subdev *sd, struct csi_sam_format *fmt)
 	    break;
 	case V4L2_PIX_FMT_Y12:
 		code = MEDIA_BUS_FMT_Y12_1X12;
-	    break;
+		break;
 	case V4L2_PIX_FMT_SBGGR12:
 	    code = MEDIA_BUS_FMT_SBGGR12_1X12;
 	    break;
@@ -1557,11 +1557,11 @@ static irqreturn_t mipi_csis_irq_handler(int irq, void *dev_id)
 			if (!(status & state->events[i].mask))
 				continue;
 			state->events[i].counter++;
-			v4l2_dbg(2, debug, &state->sd, "%s: %d\n",
+			v4l2_dbg(3, debug, &state->sd, "%s: %d\n",
 				 state->events[i].name,
 				 state->events[i].counter);
 		}
-		v4l2_dbg(2, debug, &state->sd, "status: %08x\n", status);
+		v4l2_dbg(3, debug, &state->sd, "status: %08x\n", status);
 	}
 	spin_unlock_irqrestore(&state->slock, flags);
 
-- 
2.25.1

